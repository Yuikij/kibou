"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5603],{28453:(n,e,l)=>{l.d(e,{R:()=>r,x:()=>d});var i=l(96540);const o={},s=i.createContext(o);function r(n){const e=i.useContext(s);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:r(n.components),i.createElement(s.Provider,{value:e},n.children)}},62045:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>t,contentTitle:()=>d,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"database/MySQL/\u65e5\u5fd7\u7cfb\u7edf/binLog","title":"Binlog","description":"\u57fa\u672c\u6982\u5ff5","source":"@site/docs/database/MySQL/\u65e5\u5fd7\u7cfb\u7edf/binLog.mdx","sourceDirName":"database/MySQL/\u65e5\u5fd7\u7cfb\u7edf","slug":"/database/MySQL/\u65e5\u5fd7\u7cfb\u7edf/binLog","permalink":"/kibou/docs/database/MySQL/\u65e5\u5fd7\u7cfb\u7edf/binLog","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Binlog"},"sidebar":"database","previous":{"title":"\u5e38\u89c1\u95ee\u9898","permalink":"/kibou/docs/database/MySQL/\u5e38\u89c1\u95ee\u9898"},"next":{"title":"Redo log","permalink":"/kibou/docs/database/MySQL/\u65e5\u5fd7\u7cfb\u7edf/redoLog"}}');var o=l(74848),s=l(28453);const r={title:"Binlog"},d=void 0,t={},c=[{value:"\u57fa\u672c\u6982\u5ff5",id:"\u57fa\u672c\u6982\u5ff5",level:2},{value:"\u6838\u5fc3\u4f5c\u7528",id:"\u6838\u5fc3\u4f5c\u7528",level:2},{value:"\u4e0eredo log\u7684\u533a\u522b",id:"\u4e0eredo-log\u7684\u533a\u522b",level:2},{value:"\u4e24\u6bb5\u63d0\u4ea4",id:"\u4e24\u6bb5\u63d0\u4ea4",level:2},{value:"binlog\u7684\u683c\u5f0f",id:"binlog\u7684\u683c\u5f0f",level:2},{value:"\u5982\u4f55\u89e3\u6790binlog",id:"\u5982\u4f55\u89e3\u6790binlog",level:2},{value:"\u5982\u4f55\u4f7f\u7528binlog\u6062\u590d\u6570\u636e",id:"\u5982\u4f55\u4f7f\u7528binlog\u6062\u590d\u6570\u636e",level:2},{value:"binlog\u7684\u76f8\u5173\u914d\u7f6e",id:"binlog\u7684\u76f8\u5173\u914d\u7f6e",level:2}];function a(n){const e={blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h2,{id:"\u57fa\u672c\u6982\u5ff5",children:"\u57fa\u672c\u6982\u5ff5"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"binlog (Binary Log)\uff0c\u5373\u4e8c\u8fdb\u5236\u65e5\u5fd7\u3002\u5b83\u8bb0\u5f55\u4e86\u6570\u636e\u5e93\u7684\u6240\u6709\u6570\u636e\u66f4\u6539\u64cd\u4f5c\uff0c\u4e3b\u8981\u7528\u4e8e\u6570\u636e\u590d\u5236 (Replication) \u548c  point-in-time \u6062\u590d (Point-in-Time Recovery)"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"\u6838\u5fc3\u4f5c\u7528",children:"\u6838\u5fc3\u4f5c\u7528"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"\u6570\u636e\u590d\u5236"}),"\n",(0,o.jsx)(e.li,{children:"Point-in-time Recovery"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"\u4e0eredo-log\u7684\u533a\u522b",children:"\u4e0eredo log\u7684\u533a\u522b"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"binlog\u662f\u903b\u8f91\u4fee\u6539\uff08\u505a\u4ec0\u4e48\uff09"}),"\n",(0,o.jsx)(e.li,{children:"redo log\u662f\u7269\u7406\u4fee\u6539\uff08\u600e\u4e48\u505a\uff09"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"\u4e24\u6bb5\u63d0\u4ea4",children:"\u4e24\u6bb5\u63d0\u4ea4"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"\u51c6\u5907\u9636\u6bb5"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"redo log\u8fdb\u5165prepare \u9636\u6bb5"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"\u63d0\u4ea4\u9636\u6bb5"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"\u5148\u5c1d\u8bd5\u5199\u5165binlog\uff0c\u6210\u529f\u4e4b\u540e\u63d0\u4ea4redo log"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"\u5173\u952e\u70b9"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"\u5982\u679c\u6ca1\u6709\u4e24\u6bb5\u63d0\u4ea4\uff0c\u90a3\u4e48\u5f53\u65e5\u5fd7\u4e0d\u4e00\u81f4\u7684\u65f6\u5019\uff0c\u6ca1\u6709\u80fd\u529b\u901a\u8fc7binlog\u6062\u590dredo log\uff0c\u6216\u8005\u901a\u8fc7redo log\u6062\u590dbinlog"}),"\n",(0,o.jsx)(e.li,{children:"\u5f53\u6709\u4e86\u51c6\u5907\u9636\u6bb5\u4e4b\u540e\uff0credo log\u4f1a\u5148\u6301\u4e45\u5316\u5e76\u4e14\u6807\u8bb0\u4e3aprepare\uff0c\u5f53binlog\u5199\u5165\u4f46\u662fredo log\u6ca1\u6709\u63d0\u4ea4\u7684\u65f6\u5019\uff0c\u4f1a\u76f4\u63a5\u63d0\u4ea4redo log\uff0c\u5982\u4f55\u662f\u5728\u63d0\u4ea4\u9636\u6bb5\u4e4b\u524d\u5d29\u6e83\uff0c\u4e5f\u53ef\u4ee5\u56de\u6edaprepare\u72b6\u6001\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"binlog\u7684\u683c\u5f0f",children:"binlog\u7684\u683c\u5f0f"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"STATEMENT (\u8bed\u53e5\u6a21\u5f0f)"}),"\n",(0,o.jsx)(e.li,{children:"ROW (\u884c\u6a21\u5f0f)"}),"\n",(0,o.jsx)(e.li,{children:"MIXED (\u6df7\u5408\u6a21\u5f0f)"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"\u5982\u4f55\u89e3\u6790binlog",children:"\u5982\u4f55\u89e3\u6790binlog"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"\u53ef\u4ee5\u4f7f\u7528mysqlbinlog\u89e3\u6790\uff0c\u590d\u6742\u4e14\u6709\u8da3\uff0c\u80fd\u52a0\u6df1\u5bf9mysql\u5b9e\u73b0\u7684\u7406\u89e3\uff0c\u4e0d\u8fc7\u89e3\u6790\u5de5\u4f5c\u8fd8\u662f\u4ea4\u7ed9AI\u5427"}),"\n"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"\u8fd9\u91cc\u6458\u4e00\u6bb5\u6d4b\u8bd5\u7684\u8f93\u51fa\uff0c\u8bb0\u5f55\u4e86\u4e00\u6bb5\u65b0\u589e\u7684\u64cd\u4f5c"}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"#250219 23:27:20 server id 1  end_log_pos 424 CRC32 0x76e3e01c  Write_rows: table id 112 flags: STMT_END_F\n### INSERT INTO `gis`.`bis_command_reply`\n### SET\n###   @1=1 /* INT meta=0 nullable=1 is_null=0 */\n###   @2=NULL /* INT meta=0 nullable=1 is_null=1 */\n###   @3=NULL /* INT meta=0 nullable=1 is_null=1 */\n###   @4=NULL /* DATETIME(0) meta=0 nullable=1 is_null=1 */\n\n"})}),"\n",(0,o.jsx)(e.h2,{id:"\u5982\u4f55\u4f7f\u7528binlog\u6062\u590d\u6570\u636e",children:"\u5982\u4f55\u4f7f\u7528binlog\u6062\u590d\u6570\u636e"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"mysqlbinlog /path/to/mysql-bin.001043 | mysql -u root -p\n"})}),"\n",(0,o.jsx)(e.h2,{id:"binlog\u7684\u76f8\u5173\u914d\u7f6e",children:"binlog\u7684\u76f8\u5173\u914d\u7f6e"})]})}function u(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(a,{...n})}):a(n)}}}]);