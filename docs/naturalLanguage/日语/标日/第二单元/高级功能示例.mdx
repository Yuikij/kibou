---
title: 高级功能示例 - 复杂文本处理
description: 展示JapaneseText2组件处理复杂文本和高级功能的能力
---

import JapaneseText2 from '@site/src/components/Language/JapaneseText3';

# 高级功能示例

这个示例展示了组件处理复杂文本、多种数据格式和高级功能的能力。

## 使用 fullText 格式的复杂示例

<JapaneseText2
    fullText={[
        [
            "私は毎朝六時に起きて、ジョギングをしてから朝食を食べます。",
            {
                "私": "わたし",
                "毎朝": "まいあさ", 
                "六時": "ろくじ",
                "起": "お",
                "朝食": "ちょうしょく",
                "食": "た"
            },
            "我每天早上六点起床，慢跑后吃早餐。"
        ],
        [
            "それから電車で会社に行きます。通勤時間は約一時間です。",
            {
                "電車": "でんしゃ",
                "会社": "かいしゃ",
                "行": "い",
                "通勤": "つうきん",
                "時間": "じかん",
                "約": "やく",
                "一時間": "いちじかん"
            },
            "然后坐电车去公司。通勤时间大约一小时。"
        ],
        [
            "会社では主にコンピューターを使って仕事をします。",
            {
                "会社": "かいしゃ",
                "主": "おも",
                "使": "つか",
                "仕事": "しごと"
            },
            "在公司主要使用电脑工作。"
        ],
        [
            "昼休みには同僚と一緒に近くのレストランで昼食を取ります。",
            {
                "昼休": "ひるやす",
                "同僚": "どうりょう",
                "一緒": "いっしょ",
                "近": "ちか",
                "昼食": "ちゅうしょく",
                "取": "と"
            },
            "午休时和同事一起在附近的餐厅吃午饭。"
        ],
        [
            "夕方六時頃に仕事が終わって、家に帰ります。",
            {
                "夕方": "ゆうがた",
                "六時": "ろくじ",
                "頃": "ころ",
                "仕事": "しごと",
                "終": "お",
                "家": "いえ",
                "帰": "かえ"
            },
            "傍晚六点左右工作结束，回家。"
        ]
    ]}
    notes={{
        0: {
            "私": "第一人称代词，比较正式礼貌的说法。在非正式场合，男性常用「僕」，女性用「私」。",
            "毎朝": "每天早上。「毎」表示每个，「朝」表示早上。类似的还有「毎日」（每天）、「毎週」（每周）。",
            "ジョギング": "慢跑，来自英语jogging的外来语。日语中有很多这样的外来语，通常用片假名表示。"
        },
        1: {
            "電車": "电车，日本最主要的交通工具。日本的电车系统非常发达，准时性极高。",
            "通勤": "上下班，通勤。日本的通勤文化很独特，很多人需要长时间通勤。",
            "約": "大约，大概。用于表示不确定的数量或时间。"
        },
        2: {
            "コンピューター": "电脑，来自英语computer。也可以写作「コンピュータ」，是外来语的典型例子。",
            "主に": "主要地，主要是。「主」读作「おも」时表示主要，读作「しゅ」时表示主人。"
        },
        3: {
            "昼休み": "午休，午间休息。日本公司通常有固定的午休时间，一般是12点到1点。",
            "同僚": "同事，同僚。比「同じ会社の人」更正式的说法。",
            "一緒に": "一起，一同。是表示共同行动的重要表达方式。"
        },
        4: {
            "夕方": "傍晚，黄昏时分。一般指下午4点到6点左右的时间。",
            "頃": "左右，大约。用于表示大概的时间，比「約」更常用于时间表达。"
        }
    }}
    initialPreferences={{
        display: {
            showFurigana: true,
            showTranslation: true,
            showNotes: true,
            showLineNumbers: true,
            compactMode: false
        },
        typography: {
            fontSize: "large",
            lineSpacing: "relaxed"
        },
        interaction: {
            keyboardShortcuts: true,
            animationSpeed: "normal",
            hoverDelay: 300
        },
        accessibility: {
            screenReaderOptimized: true,
            highContrast: false,
            reducedMotion: false
        }
    }}
/>

## 错误处理示例

下面是一个故意包含错误数据的示例，展示组件的错误处理能力：

<JapaneseText2
    texts={[
        "これは正常なテキストです。",
        "これも正常です。"
    ]}
    translations={[
        "这是正常的文本。"
        // 故意缺少第二个翻译，会显示警告
    ]}
    annotations={[
        {
            "正常": "せいじょう"
        },
        "invalid annotation" // 故意使用错误的数据类型
    ]}
    notes={{
        0: {
            "正常": "正常，正常状态。这是一个形容动词。"
        },
        1: {
            "正常": "即使数据有问题，组件也会优雅地处理错误。"
        }
    }}
/>

## 性能测试示例

这是一个包含大量文本的示例，用于测试组件的性能：

<JapaneseText2
    texts={[
        "春は桜の季節です。日本全国で桜が咲きます。",
        "夏は暑くて湿度が高いです。海や山に行く人が多いです。",
        "秋は紅葉がきれいです。気温も涼しくなります。",
        "冬は雪が降ります。スキーやスノーボードを楽しめます。",
        "日本には四季があります。それぞれの季節に特徴があります。",
        "春夏秋冬、どの季節も美しいです。",
        "季節の変化を楽しむのは日本の文化です。",
        "食べ物も季節によって変わります。",
        "春は山菜、夏は冷たい麺類、秋は栗や柿、冬は鍋料理です。",
        "季節感を大切にする心は日本人の特徴の一つです。"
    ]}
    translations={[
        "春天是樱花的季节。日本全国都开樱花。",
        "夏天炎热潮湿。很多人去海边或山里。",
        "秋天红叶很美。气温也变凉爽了。",
        "冬天下雪。可以享受滑雪和滑雪板。",
        "日本有四季。每个季节都有特点。",
        "春夏秋冬，哪个季节都很美。",
        "享受季节变化是日本的文化。",
        "食物也会根据季节而变化。",
        "春天是山菜，夏天是冷面条，秋天是栗子和柿子，冬天是火锅料理。",
        "珍惜季节感的心情是日本人的特征之一。"
    ]}
    annotations={[
        { "桜": "さくら", "季節": "きせつ", "全国": "ぜんこく", "咲": "さ" },
        { "夏": "なつ", "暑": "あつ", "湿度": "しつど", "高": "たか", "海": "うみ", "山": "やま", "行": "い", "人": "ひと", "多": "おお" },
        { "秋": "あき", "紅葉": "こうよう", "気温": "きおん", "涼": "すず" },
        { "冬": "ふゆ", "雪": "ゆき", "降": "ふ", "楽": "たの" },
        { "日本": "にほん", "四季": "しき", "季節": "きせつ", "特徴": "とくちょう" },
        { "春夏秋冬": "しゅんかしゅうとう", "季節": "きせつ", "美": "うつく" },
        { "季節": "きせつ", "変化": "へんか", "楽": "たの", "日本": "にほん", "文化": "ぶんか" },
        { "食": "た", "物": "もの", "季節": "きせつ", "変": "か" },
        { "春": "はる", "山菜": "さんさい", "夏": "なつ", "冷": "つめ", "麺類": "めんるい", "秋": "あき", "栗": "くり", "柿": "かき", "冬": "ふゆ", "鍋": "なべ", "料理": "りょうり" },
        { "季節感": "きせつかん", "大切": "たいせつ", "心": "こころ", "日本人": "にほんじん", "特徴": "とくちょう" }
    ]}
    notes={{
        0: { "桜": "日本的国花，春天的象征" },
        1: { "湿度": "日本夏天的特点是高温高湿" },
        2: { "紅葉": "秋天的红叶是日本著名的景观" },
        3: { "雪": "日本冬天雪景很美，滑雪运动很受欢迎" },
        4: { "四季": "日本的四季分明，每个季节都有独特的魅力" },
        5: { "春夏秋冬": "四季的总称，体现了日本人对季节的重视" },
        6: { "文化": "季节感是日本文化的重要组成部分" },
        7: { "食べ物": "日本料理非常注重季节性" },
        8: { "山菜": "春天的山野菜是日本春季料理的特色" },
        9: { "季節感": "对季节变化的敏感和欣赏是日本文化的特色" }
    }}
    initialPreferences={{
        display: {
            showFurigana: true,
            showTranslation: false, // 默认隐藏翻译，测试学习效果
            showNotes: true,
            showLineNumbers: true,
            compactMode: true // 使用紧凑模式节省空间
        },
        typography: {
            fontSize: "medium",
            lineSpacing: "normal"
        },
        interaction: {
            keyboardShortcuts: true,
            animationSpeed: "fast" // 快速动画提高响应性
        }
    }}
/>

## 功能特点总结

### 🔧 **数据格式支持**
- **分离格式**：texts, translations, annotations, notes 分别传入
- **统一格式**：fullText 数组，每项包含 [文本, 注音, 翻译]
- **混合格式**：可以同时使用多种格式，组件会智能合并

### 🎯 **智能错误处理**
- 自动验证输入数据格式
- 优雅处理数据不一致问题
- 开发模式下显示详细错误信息
- 生产模式下提供用户友好的错误提示

### ⚡ **性能优化**
- 大文本量的高效渲染
- 智能的重新渲染优化
- 内存使用优化
- 移动端性能优化

### 🎨 **用户体验**
- 流畅的动画和过渡效果
- 直观的交互反馈
- 个性化的设置选项
- 响应式设计适配各种设备

这个优化后的组件不仅功能更强大，而且更加稳定可靠，适合在生产环境中使用。