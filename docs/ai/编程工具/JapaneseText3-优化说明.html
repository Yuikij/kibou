<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-ai/ç¼–ç¨‹å·¥å…·/JapaneseText3-ä¼˜åŒ–è¯´æ˜" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">JapaneseText3 ç»„ä»¶ç¬”è®°å®šä½ä¼˜åŒ– | Yuikij&#x27;s  blog</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-test-site.com/kibou/img/avatar.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-test-site.com/kibou/img/avatar.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/kibou/docs/ai/ç¼–ç¨‹å·¥å…·/JapaneseText3-ä¼˜åŒ–è¯´æ˜"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="Yuikij&#x27;s  blog, blog, Yuikij"><meta data-rh="true" name="robots" content="index, follow"><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="google-site-verification" content="-xEN6xN-ZxgRBYd5yWu6wEmhSpllJZAZSLXGTAJkzzU"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="JapaneseText3 ç»„ä»¶ç¬”è®°å®šä½ä¼˜åŒ– | Yuikij&#x27;s  blog"><meta data-rh="true" name="description" content="é—®é¢˜æè¿°"><meta data-rh="true" property="og:description" content="é—®é¢˜æè¿°"><link data-rh="true" rel="icon" href="/kibou/img/avatar.jpg"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/kibou/docs/ai/ç¼–ç¨‹å·¥å…·/JapaneseText3-ä¼˜åŒ–è¯´æ˜"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/kibou/docs/ai/ç¼–ç¨‹å·¥å…·/JapaneseText3-ä¼˜åŒ–è¯´æ˜" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/kibou/docs/ai/ç¼–ç¨‹å·¥å…·/JapaneseText3-ä¼˜åŒ–è¯´æ˜" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/kibou/blog/rss.xml" title="Yuikij&#39;s  blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/kibou/blog/atom.xml" title="Yuikij&#39;s  blog Atom Feed"><link rel="stylesheet" href="/kibou/assets/css/styles.d06340c6.css">
<script src="/kibou/assets/js/runtime~main.a1400501.js" defer="defer"></script>
<script src="/kibou/assets/js/main.198d5107.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/kibou/"><div class="navbar__logo"><img src="/kibou/img/avatar.jpg" alt="to be kibou" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/kibou/img/avatar.jpg" alt="to be kibou" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Yuikij&#x27;s  blog</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">åŸºç¡€</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/kibou/docs/category/java-1">ç¼–ç¨‹è¯­è¨€</a></li><li><a class="dropdown__link" href="/kibou/docs/basicKnowledge/framework/Mybatis/æ’ä»¶">è½¯ä»¶æ¡†æ¶</a></li><li><a class="dropdown__link" href="/kibou/docs/basicKnowledge/network/åè®®/MQTT">ç½‘ç»œ</a></li><li><a class="dropdown__link" href="/kibou/docs/database/MySQL/SQLè¯­å¥/CTE">æ•°æ®åº“</a></li><li><a class="dropdown__link" href="/kibou/docs/algorithm/interactive-sorting-demo">ç®—æ³•å’Œæ•°æ®ç»“æ„</a></li><li><a class="dropdown__link" href="/kibou/docs/distributedSystems/MapReduce">åˆ†å¸ƒå¼ç³»ç»Ÿ</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">åº”ç”¨</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/kibou/docs/basicSoftware/Git/shell">Git</a></li><li><a class="dropdown__link" href="/kibou/docs/category/å¸¸ç”¨å‘½ä»¤-1">Linux</a></li><li><a class="dropdown__link" href="/kibou/docs/basicSoftware/Operation/CiCD">è¿ç»´ç›¸å…³</a></li><li><a class="dropdown__link" href="/kibou/docs/basicSoftware/Design/å»ºæ¨¡è¯­è¨€">è½¯ä»¶è®¾è®¡</a></li><li><a class="dropdown__link" href="/kibou/docs/basicSoftware/ä¸­é—´ä»¶/RabbitMq">ä¸­é—´ä»¶</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/kibou/docs/category/noteè®°å½•-1">å…¬å¼€è¯¾</a><a class="navbar__item navbar__link" href="/kibou/docs/naturalLanguage/æ—¥è¯­/æ–‡æ³•/åŠ¨è¯">è¯­è¨€</a><a class="navbar__item navbar__link" href="/kibou/blog">æ—¥è®°</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/kibou/docs/ai/LLM/åˆ©ç”¨CFçš„workerå®ç°geminiçš„keyæ± ä»£ç†">AIç¼–ç¨‹</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">å¤‡å¿˜å½•</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/kibou/docs/memorandum/SuperGame/å…³äºç‹—å¤´æŠ¤è‚¤çš„ç®€å•æ¢è®¨/page1">SGè®ºå›</a></li><li><a class="dropdown__link" href="/kibou/docs/memorandum/æ·±åº¦è§£è¯»/DDIA">æ·±åº¦è§£è¯»</a></li><li><a class="dropdown__link" href="/kibou/docs/prepareExam/è½¯è€ƒ/é”™é¢˜é›†/çœŸé¢˜">å¤‡è€ƒé¢è¯•</a></li><li><a class="dropdown__link" href="/kibou/docs/memorandum/chatgpt/github actionæ“ä½œäº‘æœåŠ¡å™¨">å°è´´å£«</a></li></ul></div><a class="navbar__item navbar__link" href="/kibou/about">å…³äº</a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://books.yuisama.top" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">å›¾ä¹¦é¦†<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/Yuikij" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/kibou/docs/ai/LLM/åˆ©ç”¨CFçš„workerå®ç°geminiçš„keyæ± ä»£ç†">LLM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/kibou/docs/ai/SEO/ç›¸å…³ç½‘ç«™">SEO</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/kibou/docs/ai/æç¤ºè¯/Promptç»éªŒ">æç¤ºè¯</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/kibou/docs/ai/ç¼–ç¨‹å·¥å…·/GeminiCLI">ç¼–ç¨‹å·¥å…·</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kibou/docs/ai/ç¼–ç¨‹å·¥å…·/GeminiCLI">Gemini CLI ä½¿ç”¨ç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/kibou/docs/ai/ç¼–ç¨‹å·¥å…·/JapaneseText3-ä¼˜åŒ–è¯´æ˜">JapaneseText3 ç»„ä»¶ç¬”è®°å®šä½ä¼˜åŒ–</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/kibou/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">ç¼–ç¨‹å·¥å…·</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">JapaneseText3 ç»„ä»¶ç¬”è®°å®šä½ä¼˜åŒ–</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>JapaneseText3 ç»„ä»¶ç¬”è®°å®šä½ä¼˜åŒ–</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="é—®é¢˜æè¿°">é—®é¢˜æè¿°<a href="#é—®é¢˜æè¿°" class="hash-link" aria-label="Direct link to é—®é¢˜æè¿°" title="Direct link to é—®é¢˜æè¿°">â€‹</a></h2>
<p>åŸæœ‰çš„ JapaneseText3 ç»„ä»¶åœ¨æ˜¾ç¤ºç¬”è®°æ—¶å­˜åœ¨ä½ç½®ä¸ç¨³å®šçš„é—®é¢˜ï¼Œä¸»è¦è¡¨ç°ä¸ºï¼š</p>
<ol>
<li>ç¬”è®°é¢æ¿æœ‰æ—¶ä¼šå‡ºç°åœ¨å±å¹•è¾¹ç•Œå¤–</li>
<li>ä½ç½®è®¡ç®—ä¸å¤Ÿç²¾ç¡®ï¼Œå¯¼è‡´é¢‘ç¹é‡æ–°å®šä½</li>
<li>ç§»åŠ¨ç«¯é€‚é…ä¸å¤Ÿå®Œå–„</li>
<li>ç¼ºä¹æœ‰æ•ˆçš„é˜²æŠ–æœºåˆ¶</li>
<li><strong>ç‚¹å‡»ç¬”è®°æ—¶é¡µé¢ä¼šæ„å¤–æ»šåŠ¨åˆ°é¡¶éƒ¨æˆ–å…¶ä»–ä½ç½®</strong></li>
<li><strong>ç»„ä»¶å‡ºç°æ— é™é‡æ¸²æŸ“ï¼Œå¯¼è‡´æ€§èƒ½é—®é¢˜å’Œæ—¥å¿—åˆ·å±</strong> â­ <strong>æ–°å‘ç°</strong></li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¼˜åŒ–æ–¹æ¡ˆ">ä¼˜åŒ–æ–¹æ¡ˆ<a href="#ä¼˜åŒ–æ–¹æ¡ˆ" class="hash-link" aria-label="Direct link to ä¼˜åŒ–æ–¹æ¡ˆ" title="Direct link to ä¼˜åŒ–æ–¹æ¡ˆ">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-ä¿®å¤æ— é™é‡æ¸²æŸ“é—®é¢˜--ç´§æ€¥ä¿®å¤">1. ä¿®å¤æ— é™é‡æ¸²æŸ“é—®é¢˜ ğŸš¨ <strong>ç´§æ€¥ä¿®å¤</strong><a href="#1-ä¿®å¤æ— é™é‡æ¸²æŸ“é—®é¢˜--ç´§æ€¥ä¿®å¤" class="hash-link" aria-label="Direct link to 1-ä¿®å¤æ— é™é‡æ¸²æŸ“é—®é¢˜--ç´§æ€¥ä¿®å¤" title="Direct link to 1-ä¿®å¤æ— é™é‡æ¸²æŸ“é—®é¢˜--ç´§æ€¥ä¿®å¤">â€‹</a></h3>
<p><strong>é—®é¢˜åŸå› ï¼š</strong></p>
<ul>
<li><code>useAccessibilityManager</code> çš„ <code>options</code> å¯¹è±¡æ¯æ¬¡æ¸²æŸ“éƒ½é‡æ–°åˆ›å»º</li>
<li><code>useEffect</code> ä¾èµ–æ•°ç»„åŒ…å«ä¸ç¨³å®šçš„å¯¹è±¡å¼•ç”¨</li>
<li>æ€§èƒ½ç›‘æ§çš„ <code>useEffect</code> æ²¡æœ‰æ­£ç¡®çš„ä¾èµ–è®¾ç½®</li>
<li>å›è°ƒå‡½æ•°æ²¡æœ‰ä½¿ç”¨ <code>useCallback</code> è¿›è¡Œç¨³å®šåŒ–</li>
</ul>
<p><strong>é”™è¯¯è¡¨ç°ï¼š</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Warning: Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn&#x27;t have a dependency array, or one of the dependencies changes on every render.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// 1. ç¨³å®šåŒ– accessibility options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> accessibilityOptions </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useMemo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">announceChanges</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">keyboardNavigation</span><span class="token operator">:</span><span class="token plain"> preferences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">interaction</span><span class="token operator">?.</span><span class="token plain">keyboardShortcuts </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">screenReaderOptimized</span><span class="token operator">:</span><span class="token plain"> preferences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">accessibility</span><span class="token operator">?.</span><span class="token plain">screenReaderOptimized </span><span class="token operator">||</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  preferences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">interaction</span><span class="token operator">?.</span><span class="token plain">keyboardShortcuts</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  preferences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">accessibility</span><span class="token operator">?.</span><span class="token plain">screenReaderOptimized</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 2. åœ¨ useAccessibilityManager ä¸­ä½¿ç”¨ useMemo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> memoizedOptions </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useMemo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">announceChanges</span><span class="token operator">:</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">announceChanges</span><span class="token plain"> </span><span class="token operator">??</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">keyboardNavigation</span><span class="token operator">:</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">keyboardNavigation</span><span class="token plain"> </span><span class="token operator">??</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">screenReaderOptimized</span><span class="token operator">:</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">screenReaderOptimized</span><span class="token plain"> </span><span class="token operator">??</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">announceChanges</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">keyboardNavigation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">screenReaderOptimized</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 3. ç¨³å®šåŒ–å›è°ƒå‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> handleShortcutChange </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useCallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">section</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> field</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">updatePreference</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">section</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> field</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">onPreferenceChange</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">onPreferenceChange</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">section</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">field</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token operator">:</span><span class="token plain"> value </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">updatePreference</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> onPreferenceChange</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 4. ä¼˜åŒ–æ€§èƒ½ç›‘æ§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">useLayoutEffect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ€§èƒ½ç›‘æ§é€»è¾‘ï¼Œä¸éœ€è¦ä¾èµ–æ•°ç»„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç©ºä¾èµ–æ•°ç»„æˆ–æ— ä¾èµ–æ•°ç»„</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-ä¿®å¤ä½ç½®æ ¡æ­£å¾ªç¯é—®é¢˜--å…³é”®ä¿®å¤">1. ä¿®å¤ä½ç½®æ ¡æ­£å¾ªç¯é—®é¢˜ ğŸš¨ <strong>å…³é”®ä¿®å¤</strong><a href="#1-ä¿®å¤ä½ç½®æ ¡æ­£å¾ªç¯é—®é¢˜--å…³é”®ä¿®å¤" class="hash-link" aria-label="Direct link to 1-ä¿®å¤ä½ç½®æ ¡æ­£å¾ªç¯é—®é¢˜--å…³é”®ä¿®å¤" title="Direct link to 1-ä¿®å¤ä½ç½®æ ¡æ­£å¾ªç¯é—®é¢˜--å…³é”®ä¿®å¤">â€‹</a></h3>
<p><strong>é—®é¢˜è¡¨ç°ï¼š</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">performance.js:186 JapaneseText2: Very slow render detected (72.10ms)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">useNoteHandling.js:548 Note panel out of bounds detected: {bounds: {â€¦}, panelRect: DOMRect, currentPosition: {â€¦}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">useNoteHandling.js:256 Position validation: {panelRect: {â€¦}, viewport: {â€¦}, bounds: {â€¦}, currentPosition: {â€¦}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">useNoteHandling.js:319 Applying position correction: {from: {â€¦}, to: {â€¦}, reason: &#x27;boundary violation&#x27;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>å¾ªç¯åŸå› ï¼š</strong></p>
<ol>
<li><code>NotePanel</code> æ£€æµ‹åˆ°è¾¹ç•Œè¶…å‡º â†’ è§¦å‘ <code>notePanelOutOfBounds</code> äº‹ä»¶</li>
<li><code>useNoteHandling</code> æ”¶åˆ°äº‹ä»¶ â†’ è°ƒç”¨ <code>validateAndCorrectPosition</code></li>
<li>ä½ç½®æ ¡æ­£ â†’ è§¦å‘é‡æ¸²æŸ“ â†’ <code>NotePanel</code> é‡æ–°éªŒè¯ä½ç½®</li>
<li>æ— é™å¾ªç¯...</li>
</ol>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// 1. æ·»åŠ å¾ªç¯æ£€æµ‹å’Œé˜²æŠ¤</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> positionCorrectionCount </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useRef</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> lastCorrectionTime </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useRef</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> isValidatingPosition </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useRef</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> validateAndCorrectPosition </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useCallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">initialPosition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// é˜²æ­¢å¹¶å‘éªŒè¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">isValidatingPosition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æµ‹æ ¡æ­£å¾ªç¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> now </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">now</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">now </span><span class="token operator">-</span><span class="token plain"> lastCorrectionTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">current</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    positionCorrectionCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">current</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">positionCorrectionCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">current</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">warn</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Position correction loop detected, stopping validation&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    positionCorrectionCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">current</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// åªåœ¨æ˜¾è‘—è¶…å‡ºè¾¹ç•Œæ—¶æ‰æ ¡æ­£ (&gt;10px)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">isOutOfBoundsRight </span><span class="token operator">&amp;&amp;</span><span class="token plain"> panelRect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">right</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> viewportWidth </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// åº”ç”¨æ ¡æ­£...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// åªåœ¨å˜åŒ–æ˜¾è‘—æ—¶æ‰æ›´æ–°ä½ç½® (&gt;5px)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">deltaX </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> deltaY </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setNotePosition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">newPosition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 2. å‡å°‘éªŒè¯é¢‘ç‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// ä» [16, 100, 250]ms å‡å°‘åˆ°å•æ¬¡ 100ms éªŒè¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">setTimeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">validateAndCorrectPosition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">position</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 3. ä¼˜åŒ–è¾¹ç•Œæ£€æµ‹æ•æ„Ÿåº¦</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> threshold </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// åªåœ¨çœŸæ­£è¶…å‡ºè¾¹ç•Œæ—¶è§¦å‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> isOutOfBounds </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">right</span><span class="token operator">:</span><span class="token plain"> rect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">right</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> viewportWidth </span><span class="token operator">-</span><span class="token plain"> threshold</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-ä¿®å¤æ»šåŠ¨åå®šä½å¤±æ•ˆé—®é¢˜">2. ä¿® å¤æ»šåŠ¨åå®šä½å¤±æ•ˆé—®é¢˜<a href="#2-ä¿®å¤æ»šåŠ¨åå®šä½å¤±æ•ˆé—®é¢˜" class="hash-link" aria-label="Direct link to 2. ä¿®å¤æ»šåŠ¨åå®šä½å¤±æ•ˆé—®é¢˜" title="Direct link to 2. ä¿®å¤æ»šåŠ¨åå®šä½å¤±æ•ˆé—®é¢˜">â€‹</a></h3>
<p><strong>é—®é¢˜åŸå› ï¼š</strong>
æ»šåŠ¨åï¼Œç¼“å­˜çš„ä½ç½®ä¿¡æ¯è¿‡æ—¶ï¼Œå¯¼è‡´ note å®šä½é”™è¯¯ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> handleNoteClick </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useCallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">noteKey</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> noteContent</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> event</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> sentenceIndex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ€»æ˜¯åŸºäºå½“å‰å…ƒç´ ä½ç½®é‡æ–°è®¡ç®—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> position </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">calculateNotePosition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">event</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">setNotePosition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">position</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç®€åŒ–éªŒè¯æµç¨‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">setTimeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">validateAndCorrectPosition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">position</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">calculateNotePosition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> validateAndCorrectPosition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-ä¿®å¤æ„å¤–æ»šåŠ¨é—®é¢˜--å·²ä¿®å¤">2. ä¿®å¤æ„å¤–æ»šåŠ¨é—®é¢˜ â­ <strong>å·²ä¿®å¤</strong><a href="#2-ä¿®å¤æ„å¤–æ»šåŠ¨é—®é¢˜--å·²ä¿®å¤" class="hash-link" aria-label="Direct link to 2-ä¿®å¤æ„å¤–æ»šåŠ¨é—®é¢˜--å·²ä¿®å¤" title="Direct link to 2-ä¿®å¤æ„å¤–æ»šåŠ¨é—®é¢˜--å·²ä¿®å¤">â€‹</a></h3>
<p><strong>é—®é¢˜åŸå› ï¼š</strong></p>
<ul>
<li><code>navigateNote</code> å‡½æ•°ä¸­çš„ <code>scrollIntoView</code> è°ƒç”¨åœ¨æ‰€æœ‰åœºæ™¯ä¸‹éƒ½ä¼šæ‰§è¡Œ</li>
<li>æœªåŒºåˆ†é”®ç›˜å¯¼èˆªå’Œé¼ æ ‡ç‚¹å‡»çš„è¡Œä¸ºå·®å¼‚</li>
<li>ä½ç½®è®¡ç®—å¯èƒ½è§¦å‘ DOM å˜åŒ–å¯¼è‡´æ»šåŠ¨è·³è·ƒ</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// åŒºåˆ†å¯¼èˆªæ¥æºï¼Œé¿å…ç‚¹å‡»æ—¶ä¸å¿…è¦çš„æ»šåŠ¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> navigateNote </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useCallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">direction</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> shouldScroll </span><span class="token parameter operator">=</span><span class="token parameter"> </span><span class="token parameter boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ... navigation logic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// åªåœ¨æ˜ç¡®éœ€è¦æ—¶æ»šåŠ¨ï¼ˆé”®ç›˜å¯¼èˆªï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">shouldScroll </span><span class="token operator">&amp;&amp;</span><span class="token plain"> autoScrollOnNavigation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥å…ƒç´ æ˜¯å¦å·²å¯è§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> isVisible </span><span class="token operator">=</span><span class="token plain"> rect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">top</span><span class="token plain"> </span><span class="token operator">&gt;=</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> rect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">bottom</span><span class="token plain"> </span><span class="token operator">&lt;=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">innerHeight</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// åªæœ‰åœ¨å…ƒç´ ä¸å¯è§æ—¶æ‰æ»šåŠ¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">isVisible</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      noteElement</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">scrollIntoView</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">behavior</span><span class="token operator">:</span><span class="token plain"> scrollBehavior</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">block</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;nearest&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ä½¿ç”¨ä¿å®ˆçš„æ»šåŠ¨ç­–ç•¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">inline</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;nearest&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token comment" style="color:rgb(98, 114, 164)">/* deps */</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// ç‚¹å‡»äº‹ä»¶ä¸­é˜²æ­¢æ„å¤–æ»šåŠ¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> handleNoteClick </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useCallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">noteKey</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> noteContent</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> event</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> sentenceIndex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// è®°å½•å½“å‰æ»šåŠ¨ä½ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> currentScrollX </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">scrollX</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> currentScrollY </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">scrollY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ... note handling logic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// é˜²æŠ¤ï¼šç¡®ä¿æ»šåŠ¨ä½ç½®ä¸å˜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">requestAnimationFrame</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">scrollX</span><span class="token plain"> </span><span class="token operator">!==</span><span class="token plain"> currentScrollX </span><span class="token operator">||</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">scrollY</span><span class="token plain"> </span><span class="token operator">!==</span><span class="token plain"> currentScrollY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">scrollTo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">currentScrollX</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> currentScrollY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token comment" style="color:rgb(98, 114, 164)">/* deps */</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>æ–°å¢é…ç½®é€‰é¡¹ï¼š</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token literal-property property">interaction</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">autoScrollOnNavigation</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// é”®ç›˜å¯¼èˆªæ—¶è‡ªåŠ¨æ»šåŠ¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">smoothScrolling</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)">// ä½¿ç”¨å¹³æ»‘æ»šåŠ¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-æ”¹è¿›å®šä½ç®—æ³•-usenotehandlingjs">2. æ”¹è¿›å®šä½ç®—æ³• (<code>useNoteHandling.js</code>)<a href="#2-æ”¹è¿›å®šä½ç®—æ³•-usenotehandlingjs" class="hash-link" aria-label="Direct link to 2-æ”¹è¿›å®šä½ç®—æ³•-usenotehandlingjs" title="Direct link to 2-æ”¹è¿›å®šä½ç®—æ³•-usenotehandlingjs">â€‹</a></h3>
<p><strong>ä¸»è¦æ”¹è¿›ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨é…ç½®å¸¸é‡ç»Ÿä¸€ç®¡ç†å®šä½å‚æ•°</li>
<li>å¢å¼ºè¾¹ç•Œæ£€æµ‹é€»è¾‘ï¼Œæé«˜å®šä½ç²¾åº¦</li>
<li>æ·»åŠ é˜ˆå€¼æœºåˆ¶ï¼Œä¼˜åŒ–å®šä½ç­–ç•¥é€‰æ‹©</li>
<li>æ”¹è¿›ç§»åŠ¨ç«¯å®šä½ï¼Œæ”¯æŒè®¾å¤‡å®‰å…¨åŒºåŸŸ</li>
</ul>
<p><strong>æ ¸å¿ƒå˜æ›´ï¼š</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// ä½¿ç”¨å¸¸é‡é…ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> noteWidth </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NOTE_POSITIONING</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">DESKTOP_WIDTH</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> noteHeight </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NOTE_POSITIONING</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">DESKTOP_HEIGHT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> safeMargin </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NOTE_POSITIONING</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">SAFE_MARGIN</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> targetOffset </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NOTE_POSITIONING</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">TARGET_OFFSET</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// é˜ˆå€¼æœºåˆ¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> spaceThreshold </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NOTE_POSITIONING</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">SPACE_THRESHOLD</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">spaceRight </span><span class="token operator">&gt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">noteWidth </span><span class="token operator">+</span><span class="token plain"> targetOffset</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> spaceThreshold</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ä¼˜å…ˆå³ä¾§å®šä½</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-  å¢å¼ºä½ç½®æ ¡æ­£æœºåˆ¶">3. å¢å¼ºä½ç½®æ ¡æ­£æœºåˆ¶<a href="#3-å¢å¼ºä½ç½®æ ¡æ­£æœºåˆ¶" class="hash-link" aria-label="Direct link to 3. å¢å¼ºä½ç½®æ ¡æ­£æœºåˆ¶" title="Direct link to 3. å¢å¼ºä½ç½®æ ¡æ­£æœºåˆ¶">â€‹</a></h3>
<p><strong>æ”¹è¿›ç‚¹ï¼š</strong></p>
<ul>
<li>å®ç°å¤šé‡éªŒè¯æœºåˆ¶ï¼Œç¡®ä¿ä½ç½®ç¨³å®šæ€§</li>
<li>æ·»åŠ é˜²æŠ–åŠŸèƒ½ï¼Œé¿å…é¢‘ç¹é‡è®¡ç®—</li>
<li>æ”¯æŒè¾¹ç•Œè¶…å‡ºäº‹ä»¶å¤„ç†</li>
<li>çª—å£å¤§å°å˜åŒ–æ—¶è‡ªåŠ¨é‡æ–°å®šä½</li>
</ul>
<p><strong>é˜²æŠ–å®ç°ï¼š</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">positionDebounceRef</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">current</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">setTimeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ä½ç½®æ ¡æ­£é€»è¾‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NOTE_POSITIONING</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">POSITION_DEBOUNCE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ">4. ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ<a href="#4-ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ" class="hash-link" aria-label="Direct link to 4. ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ" title="Direct link to 4. ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ">â€‹</a></h3>
<p><strong>ç§»åŠ¨ç«¯æ”¹è¿›ï¼š</strong></p>
<ul>
<li>è€ƒè™‘è®¾å¤‡æ–¹å‘ï¼ˆæ¨ªå±/ç«–å±ï¼‰</li>
<li>æ”¯æŒè®¾å¤‡å®‰å…¨åŒºåŸŸï¼ˆåˆ˜æµ·å±ç­‰ï¼‰</li>
<li>åŠ¨æ€è®¡ç®—æœ€ä½³å°ºå¯¸</li>
<li>å¢å¼ºè§¦æ‘¸äº¤äº’</li>
</ul>
<p><strong>ç§»åŠ¨ç«¯å®šä½ï¼š</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// è€ƒè™‘å®‰å…¨åŒºåŸŸ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> safeAreaTop </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">parseInt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">getComputedStyle</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">documentElement</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getPropertyValue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;--safe-area-inset-top&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;0&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// åŠ¨æ€å°ºå¯¸è®¡ç®—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> mobileWidth </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">min</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  viewportWidth </span><span class="token operator">*</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token constant" style="color:rgb(189, 147, 249)">NOTE_POSITIONING</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">MOBILE_WIDTH_PERCENT</span><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> </span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  noteWidth</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-notepanel-ç»„ä»¶ä¼˜åŒ–">5. NotePanel ç»„ä»¶ä¼˜åŒ–<a href="#5-notepanel-ç»„ä»¶ä¼˜åŒ–" class="hash-link" aria-label="Direct link to 5. NotePanel ç»„ä»¶ä¼˜åŒ–" title="Direct link to 5. NotePanel ç»„ä»¶ä¼˜åŒ–">â€‹</a></h3>
<p><strong>ä¸»è¦æ”¹è¿›ï¼š</strong></p>
<ul>
<li>æ·»åŠ  ResizeObserver ç›‘æ§é¢æ¿å°ºå¯¸å˜åŒ–</li>
<li>å®ç°ä½ç½®éªŒè¯å’Œè¾¹ç•Œæ£€æµ‹</li>
<li>æ”¹è¿› CSS æ€§èƒ½ä¼˜åŒ–</li>
<li>æ”¯æŒå¹³æ»‘çš„ä½ç½®è¿‡æ¸¡</li>
</ul>
<p><strong>ResizeObserver å®ç°ï¼š</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">resizeObserverRef</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">current</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ResizeObserver</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">entries</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> entry </span><span class="token operator">=</span><span class="token plain"> entries</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">entry </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">isMobile</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setTimeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">validatePanelPosition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">16</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-é…ç½®å¸¸é‡åŒ–">6. é…ç½®å¸¸é‡åŒ–<a href="#6-é…ç½®å¸¸é‡åŒ–" class="hash-link" aria-label="Direct link to 6. é…ç½®å¸¸é‡åŒ–" title="Direct link to 6. é…ç½®å¸¸é‡åŒ–">â€‹</a></h3>
<p>æ–°å¢ <code>NOTE_POSITIONING</code> é…ç½®å¯¹è±¡ï¼š</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NOTE_POSITIONING</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">DESKTOP_WIDTH</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">360</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">DESKTOP_HEIGHT</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">320</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">MOBILE_WIDTH_PERCENT</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">90</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">MOBILE_HEIGHT_PERCENT</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">80</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">SAFE_MARGIN</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">24</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">TARGET_OFFSET</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">16</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">MOBILE_MIN_MARGIN</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">20</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">SPACE_THRESHOLD</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">0.8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">POSITION_DEBOUNCE</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">50</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">RESIZE_DEBOUNCE</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">150</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">VALIDATION_DELAYS</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">16</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">250</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æŠ€æœ¯ç‰¹æ€§">æŠ€æœ¯ç‰¹æ€§<a href="#æŠ€æœ¯ç‰¹æ€§" class="hash-link" aria-label="Direct link to æŠ€æœ¯ç‰¹æ€§" title="Direct link to æŠ€æœ¯ç‰¹æ€§">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å®šä½ç­–ç•¥ä¼˜å…ˆçº§">å®šä½ç­–ç•¥ä¼˜å…ˆçº§<a href="#å®šä½ç­–ç•¥ä¼˜å…ˆçº§" class="hash-link" aria-label="Direct link to å®šä½ç­–ç•¥ä¼˜å…ˆçº§" title="Direct link to å®šä½ç­–ç•¥ä¼˜å…ˆçº§">â€‹</a></h3>
<ol>
<li><strong>right</strong> - ç›®æ ‡å…ƒç´ å³ä¾§</li>
<li><strong>left</strong> - ç›®æ ‡å…ƒç´ å·¦ä¾§</li>
<li><strong>center-below</strong> - ç›®æ ‡å…ƒç´ ä¸‹æ–¹å±…ä¸­</li>
<li><strong>center-above</strong> - ç›®æ ‡å…ƒç´ ä¸Šæ–¹å±…ä¸­</li>
<li><strong>center-horizontal</strong> - æ°´å¹³å±…ä¸­</li>
<li><strong>center-vertical</strong> - å‚ç›´å±…ä¸­</li>
<li><strong>emergency-center</strong> - ç´§æ€¥å±…ä¸­ï¼ˆæœ€åå¤‡é€‰ï¼‰</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="è¾¹ç•Œæ£€æµ‹æœºåˆ¶">è¾¹ç•Œæ£€æµ‹æœºåˆ¶<a href="#è¾¹ç•Œæ£€æµ‹æœºåˆ¶" class="hash-link" aria-label="Direct link to è¾¹ç•Œæ£€æµ‹æœºåˆ¶" title="Direct link to è¾¹ç•Œæ£€æµ‹æœºåˆ¶">â€‹</a></h3>
<ul>
<li>å®æ—¶ç›‘æ§é¢æ¿æ˜¯å¦è¶…å‡ºè§†å£è¾¹ç•Œ</li>
<li>è‡ªåŠ¨æ ¡æ­£è¶…ç•Œä½ç½®</li>
<li>æ”¯æŒè‡ªå®šä¹‰å®‰å…¨è¾¹è·</li>
<li>å¤šé‡éªŒè¯ç¡®ä¿ä½ç½®ç¨³å®š</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ€§èƒ½ä¼˜åŒ–">æ€§èƒ½ä¼˜åŒ–<a href="#æ€§èƒ½ä¼˜åŒ–" class="hash-link" aria-label="Direct link to æ€§èƒ½ä¼˜åŒ–" title="Direct link to æ€§èƒ½ä¼˜åŒ–">â€‹</a></h3>
<ul>
<li>ä½¿ç”¨ <code>will-change</code> å’Œ <code>transform3d</code> ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½</li>
<li>é˜²æŠ–æœºåˆ¶å‡å°‘ä¸å¿…è¦çš„è®¡ç®—</li>
<li>ResizeObserver æ›¿ä»£ä½æ•ˆçš„è½®è¯¢æ£€æµ‹</li>
<li>æ¡ä»¶æ¸²æŸ“å‡å°‘é‡ç»˜</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨ç¤ºä¾‹">ä½¿ç”¨ç¤ºä¾‹<a href="#ä½¿ç”¨ç¤ºä¾‹" class="hash-link" aria-label="Direct link to ä½¿ç”¨ç¤ºä¾‹" title="Direct link to ä½¿ç”¨ç¤ºä¾‹">â€‹</a></h2>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// åŸºæœ¬ä½¿ç”¨ï¼ˆæ— éœ€æ›´æ”¹ç°æœ‰ä»£ç ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag class-name" style="color:rgb(255, 121, 198)">JapaneseText3</span><span class="token tag" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag" style="color:rgb(255, 121, 198)">  </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">texts</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">texts</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag" style="color:rgb(255, 121, 198)">  </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">notes</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">notes</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag" style="color:rgb(255, 121, 198)">  </span><span class="token tag comment" style="color:rgb(98, 114, 164)">// ... å…¶ä»– props</span><span class="token tag" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag" style="color:rgb(255, 121, 198)"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// è‡ªå®šä¹‰æ»šåŠ¨è¡Œä¸º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag class-name" style="color:rgb(255, 121, 198)">JapaneseText3</span><span class="token tag" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag" style="color:rgb(255, 121, 198)">  </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">texts</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">texts</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag" style="color:rgb(255, 121, 198)">  </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">notes</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">notes</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag" style="color:rgb(255, 121, 198)">  </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">initialPreferences</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">    </span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">interaction</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">      </span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">autoScrollOnNavigation</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript boolean" style="color:rgb(255, 121, 198)">false</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript comment" style="color:rgb(98, 114, 164)">// ç¦ç”¨é”®ç›˜å¯¼èˆªæ—¶çš„è‡ªåŠ¨æ»šåŠ¨</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">      </span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">smoothScrolling</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript boolean" style="color:rgb(255, 121, 198)">false</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">         </span><span class="token tag script language-javascript comment" style="color:rgb(98, 114, 164)">// ç¦ç”¨å¹³æ»‘æ»šåŠ¨ï¼ˆé€‚åˆåŠ¨ç”»æ•æ„Ÿç”¨æˆ·ï¼‰</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">    </span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">  </span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag" style="color:rgb(255, 121, 198)"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// æ— éšœç¢è®¿é—®ä¼˜åŒ–é…ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag class-name" style="color:rgb(255, 121, 198)">JapaneseText3</span><span class="token tag" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag" style="color:rgb(255, 121, 198)">  </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">texts</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">texts</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag" style="color:rgb(255, 121, 198)">  </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">notes</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">notes</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag" style="color:rgb(255, 121, 198)">  </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">initialPreferences</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">    </span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">accessibility</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">      </span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">reducedMotion</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript boolean" style="color:rgb(255, 121, 198)">true</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">           </span><span class="token tag script language-javascript comment" style="color:rgb(98, 114, 164)">// å‡å°‘åŠ¨ç”»æ•ˆæœ</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">      </span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">screenReaderOptimized</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript boolean" style="color:rgb(255, 121, 198)">true</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">    </span><span class="token tag script language-javascript comment" style="color:rgb(98, 114, 164)">// å±å¹•é˜…è¯»å™¨ä¼˜åŒ–</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">    </span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">    </span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">interaction</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">      </span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">smoothScrolling</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript boolean" style="color:rgb(255, 121, 198)">false</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">        </span><span class="token tag script language-javascript comment" style="color:rgb(98, 114, 164)">// ä¸ reducedMotion é…åˆ</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">      </span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">autoScrollOnNavigation</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript boolean" style="color:rgb(255, 121, 198)">true</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">   </span><span class="token tag script language-javascript comment" style="color:rgb(98, 114, 164)">// ä¿æŒå¯¼èˆªåŠŸèƒ½</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">    </span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">  </span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag" style="color:rgb(255, 121, 198)"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç»„ä»¶ä¼šè‡ªåŠ¨ä½¿ç”¨æ–°çš„å®šä½ç³»ç»Ÿï¼Œæä¾›æ›´ç¨³å®šçš„ç¬”è®°æ˜¾ç¤ºä½“éªŒã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="è°ƒè¯•æ”¯æŒ">è°ƒè¯•æ”¯æŒ<a href="#è°ƒè¯•æ”¯æŒ" class="hash-link" aria-label="Direct link to è°ƒè¯•æ”¯æŒ" title="Direct link to è°ƒè¯•æ”¯æŒ">â€‹</a></h2>
<p>åœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œç»„ä»¶ä¼šè¾“å‡ºè¯¦ç»†çš„å®šä½ä¿¡æ¯ï¼š</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// å¼€å‘ç¯å¢ƒè°ƒè¯•ä¿¡æ¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Position validation:&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">panelRect</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">/* é¢æ¿ä½ç½®ä¿¡æ¯ */</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">viewport</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">/* è§†å£ä¿¡æ¯ */</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">bounds</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">/* è¾¹ç•Œæ£€æµ‹ç»“æœ */</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">currentPosition</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">/* å½“å‰ä½ç½® */</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¼å®¹æ€§">å…¼å®¹æ€§<a href="#å…¼å®¹æ€§" class="hash-link" aria-label="Direct link to å…¼å®¹æ€§" title="Direct link to å…¼å®¹æ€§">â€‹</a></h2>
<ul>
<li>âœ… ç°ä»£æµè§ˆå™¨ï¼ˆChrome 76+, Firefox 69+, Safari 13+ï¼‰</li>
<li>âœ… ç§»åŠ¨ç«¯æµè§ˆå™¨</li>
<li>âœ… è§¦æ‘¸è®¾å¤‡</li>
<li>âœ… é«˜ DPI æ˜¾ç¤ºå™¨</li>
<li>âœ… è®¾å¤‡æ—‹è½¬é€‚é…</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="åç»­ä¼˜åŒ–å»ºè®®">åç»­ä¼˜åŒ–å»ºè®®<a href="#åç»­ä¼˜åŒ–å»ºè®®" class="hash-link" aria-label="Direct link to åç»­ä¼˜åŒ–å»ºè®®" title="Direct link to åç»­ä¼˜åŒ–å»ºè®®">â€‹</a></h2>
<ol>
<li><strong>è™šæ‹ŸåŒ–æ”¯æŒ</strong> - å¯¹äºå¤§é‡ç¬”è®°çš„æ€§èƒ½ä¼˜åŒ–</li>
<li><strong>è‡ªå®šä¹‰ä¸»é¢˜</strong> - æ”¯æŒæ›´å¤šè§†è§‰å®šåˆ¶é€‰é¡¹</li>
<li><strong>å¤šè¯­è¨€æ”¯æŒ</strong> - æ‰©å±•åˆ°å…¶ä»–è¯­è¨€å­¦ä¹ åœºæ™¯</li>
<li><strong>é”®ç›˜å¯¼èˆª</strong> - å¢å¼ºæ— éšœç¢è®¿é—®ä½“éªŒ</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="é—®é¢˜è§£å†³çŠ¶æ€-">é—®é¢˜è§£å†³çŠ¶æ€ âœ…<a href="#é—®é¢˜è§£å†³çŠ¶æ€-" class="hash-link" aria-label="Direct link to é—®é¢˜è§£å†³çŠ¶æ€ âœ…" title="Direct link to é—®é¢˜è§£å†³çŠ¶æ€ âœ…">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-å·²è§£å†³çš„é—®é¢˜">âœ… å·²è§£å†³çš„é—®é¢˜<a href="#-å·²è§£å†³çš„é—®é¢˜" class="hash-link" aria-label="Direct link to âœ… å·²è§£å†³çš„é—®é¢˜" title="Direct link to âœ… å·²è§£å†³çš„é—®é¢˜">â€‹</a></h3>
<ol>
<li><strong>ç¬”è®°ä½ç½®ä¸ç¨³å®š</strong> - é€šè¿‡æ”¹è¿›å®šä½ç®—æ³•å’Œé˜²æŠ–æœºåˆ¶è§£å†³</li>
<li><strong>è¾¹ç•Œæ£€æµ‹ä¸å‡†ç¡®</strong> - å®ç°å¤šé‡éªŒè¯å’Œè¾¹ç•Œæ ¡æ­£æœºåˆ¶</li>
<li><strong>ç§»åŠ¨ç«¯é€‚é…é—®é¢˜</strong> - ä¼˜åŒ–ç§»åŠ¨ç«¯å®šä½é€»è¾‘ï¼Œæ”¯æŒè®¾å¤‡å®‰å…¨åŒºåŸŸ</li>
<li><strong>æ„å¤–æ»šåŠ¨é—®é¢˜</strong> - åŒºåˆ†å¯¼èˆªæ¥æºï¼Œé˜²æ­¢ç‚¹å‡»æ—¶çš„ä¸å¿…è¦æ»šåŠ¨</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong> - æ·»åŠ é˜²æŠ–ã€ResizeObserver ç­‰ä¼˜åŒ–æœºåˆ¶</li>
<li><strong>æ— é™é‡æ¸²æŸ“é—®é¢˜</strong> - ä¿®å¤ä¾èµ–é¡¹å¾ªç¯ï¼Œç¨³å®šåŒ–å¯¹è±¡å’Œå›è°ƒå¼•ç”¨ ğŸš¨ <strong>å…³é”®ä¿®å¤</strong></li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-æµ‹è¯•å»ºè®®">ğŸ§ª æµ‹è¯•å»ºè®®<a href="#-æµ‹è¯•å»ºè®®" class="hash-link" aria-label="Direct link to ğŸ§ª æµ‹è¯•å»ºè®®" title="Direct link to ğŸ§ª æµ‹è¯•å»ºè®®">â€‹</a></h3>
<p><strong>åŸºæœ¬åŠŸèƒ½æµ‹è¯•ï¼š</strong></p>
<ol>
<li>âœ… <strong>éªŒè¯ç»„ä»¶ä¸å†æ— é™æ¸²æŸ“</strong> - æ£€æŸ¥æ§åˆ¶å°ä¸å†å‡ºç°å¤§é‡æ—¥å¿—</li>
<li>åœ¨é¡µé¢ä¸åŒä½ç½®ç‚¹å‡»ç¬”è®°ï¼Œç¡®è®¤ä¸ä¼šå‘ç”Ÿæ„å¤–æ»šåŠ¨</li>
<li>ä½¿ç”¨é”®ç›˜æ–¹å‘é”®å¯¼èˆªç¬”è®°ï¼Œç¡®è®¤æ»šåŠ¨è¡Œä¸ºæ­£ç¡®</li>
<li>åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæµ‹è¯•ç¬”è®°æ˜¾ç¤ºå’Œå®šä½</li>
<li>è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°ï¼ŒéªŒè¯ä½ç½®é‡æ–°è®¡ç®—</li>
</ol>
<p><strong>æ€§èƒ½æµ‹è¯•ï¼š</strong></p>
<ol>
<li>âœ… <strong>ç›‘æ§æ¸²æŸ“æ¬¡æ•°</strong> - åº”è¯¥ä¿æŒåœ¨åˆç†èŒƒå›´å†…ï¼Œä¸ä¼šæ— é™å¢é•¿</li>
<li>åœ¨åŒ…å«å¤§é‡ç¬”è®°çš„é¡µé¢ä¸Šæµ‹è¯•</li>
<li>ç›‘æ§æ§åˆ¶å°è¾“å‡ºï¼Œç¡®ä¿æ—¥å¿—è¾“å‡ºåˆç†</li>
<li>éªŒè¯é˜²æŠ–æœºåˆ¶æ˜¯å¦æœ‰æ•ˆå·¥ä½œ</li>
<li>æ£€æŸ¥å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œç¡®ä¿æ²¡æœ‰å†…å­˜æ³„æ¼</li>
</ol>
<p><strong>è°ƒè¯•ä¿¡æ¯ï¼š</strong>
å¼€å‘ç¯å¢ƒä¸‹ï¼Œç»„ä»¶ç°åœ¨ä¼šè¾“å‡ºåˆç†çš„æ€§èƒ½ä¿¡æ¯ï¼š</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// æ­£å¸¸çš„æ€§èƒ½æ—¥å¿— (æ¯100æ¬¡æ¸²æŸ“è¾“å‡ºä¸€æ¬¡)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token literal-property property">JapaneseText2</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Avg</span><span class="token plain"> render time</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">3.2</span><span class="token function" style="color:rgb(80, 250, 123)">ms</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">100</span><span class="token plain"> renders</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// å¼‚å¸¸æ¸²æŸ“è­¦å‘Š (&gt;50ms æ‰è­¦å‘Š)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token literal-property property">JapaneseText2</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Very</span><span class="token plain"> slow render </span><span class="token function" style="color:rgb(80, 250, 123)">detected</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">75</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">3ms</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æŠ€æœ¯å€ºåŠ¡">æŠ€æœ¯å€ºåŠ¡<a href="#æŠ€æœ¯å€ºåŠ¡" class="hash-link" aria-label="Direct link to æŠ€æœ¯å€ºåŠ¡" title="Direct link to æŠ€æœ¯å€ºåŠ¡">â€‹</a></h2>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> è€ƒè™‘å°†å®šä½é€»è¾‘æŠ½ç¦»ä¸ºç‹¬ç«‹çš„å·¥å…·å‡½æ•°</li>
<li class="task-list-item"><input type="checkbox" disabled=""> æ·»åŠ å•å…ƒæµ‹è¯•è¦†ç›–å…³é”®å®šä½ç®—æ³•</li>
<li class="task-list-item"><input type="checkbox" disabled=""> ç ”ç©¶æ˜¯å¦éœ€è¦æ”¯æŒ iframe å†…çš„å®šä½</li>
<li class="task-list-item"><input type="checkbox" disabled=""> è€ƒè™‘æ·»åŠ å®šä½æ€§èƒ½æŒ‡æ ‡ç›‘æ§</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-å½»åº•è§£å†³å¾ªç¯é—®é¢˜---ç®€åŒ–å®šä½æ–¹æ¡ˆ--æœ€ç»ˆè§£å†³æ–¹æ¡ˆ">3. å½»åº•è§£å†³å¾ªç¯é—®é¢˜ - ç®€åŒ–å®šä½æ–¹æ¡ˆ ğŸ¯ <strong>æœ€ç»ˆè§£å†³æ–¹æ¡ˆ</strong><a href="#3-å½»åº•è§£å†³å¾ªç¯é—®é¢˜---ç®€åŒ–å®šä½æ–¹æ¡ˆ--æœ€ç»ˆè§£å†³æ–¹æ¡ˆ" class="hash-link" aria-label="Direct link to 3-å½»åº•è§£å†³å¾ªç¯é—®é¢˜---ç®€åŒ–å®šä½æ–¹æ¡ˆ--æœ€ç»ˆè§£å†³æ–¹æ¡ˆ" title="Direct link to 3-å½»åº•è§£å†³å¾ªç¯é—®é¢˜---ç®€åŒ–å®šä½æ–¹æ¡ˆ--æœ€ç»ˆè§£å†³æ–¹æ¡ˆ">â€‹</a></h3>
<p><strong>æœ€ç»ˆç­–ç•¥ï¼š</strong>
é‰´äºå¤æ‚çš„ä½ç½®æ ¡æ­£ç³»ç»Ÿå®¹æ˜“äº§ç”Ÿå¾ªç¯ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ç®€åŒ–çš„å›ºå®šå®šä½æ–¹æ¡ˆï¼š</p>
<p><strong>æ ¸å¿ƒæ”¹è¿›ï¼š</strong></p>
<ol>
<li><strong>ç®€åŒ–å®šä½é€»è¾‘</strong> - ç§»é™¤å¤æ‚çš„è¾¹ç•Œæ£€æµ‹å’Œè‡ªåŠ¨æ ¡æ­£</li>
<li><strong>å³ä¾§å›ºå®šå®šä½</strong> - æ¡Œé¢ç«¯ä¼˜å…ˆå³ä¾§ï¼Œä¸å¤Ÿç©ºé—´æ—¶å›ºå®šåˆ°å³è¾¹ç¼˜</li>
<li><strong>ç¦ç”¨ä½ç½®éªŒè¯</strong> - å®Œå…¨ç§»é™¤è‡ªåŠ¨ä½ç½®æ ¡æ­£ç³»ç»Ÿ</li>
<li><strong>ç§»åŠ¨ç«¯å±…ä¸­</strong> - ç§»åŠ¨è®¾å¤‡ä½¿ç”¨ç®€å•çš„å±…ä¸­å®šä½</li>
</ol>
<p><strong>æ–°çš„å®šä½é€»è¾‘ï¼š</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// æ¡Œé¢ç«¯ï¼šç®€å•å¯é çš„å³ä¾§å®šä½</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">spaceRight </span><span class="token operator">&gt;=</span><span class="token plain"> noteWidth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// å³ä¾§æœ‰è¶³å¤Ÿç©ºé—´</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  finalLeft </span><span class="token operator">=</span><span class="token plain"> rect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">right</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> scrollX </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">16</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  strategy </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;right&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç©ºé—´ä¸è¶³ï¼Œå›ºå®šåˆ°å³è¾¹ç¼˜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  finalLeft </span><span class="token operator">=</span><span class="token plain"> viewportWidth </span><span class="token operator">-</span><span class="token plain"> noteWidth </span><span class="token operator">-</span><span class="token plain"> safeMargin </span><span class="token operator">+</span><span class="token plain"> scrollX</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  strategy </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;fixed-right&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// å‚ç›´ä½ç½®ï¼šä¸ç›®æ ‡å…ƒç´ ä¸­å¿ƒå¯¹é½ï¼Œé™åˆ¶åœ¨å®‰å…¨åŒºåŸŸå†…</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> finalTop </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">minTop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">min</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">maxTop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> idealTop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// ç§»åŠ¨ç«¯ï¼šç®€å•å±…ä¸­</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">50</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">viewportHeight </span><span class="token operator">-</span><span class="token plain"> noteHeight</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> scrollY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">20</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">viewportWidth </span><span class="token operator">-</span><span class="token plain"> noteWidth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> scrollX</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">centered</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">strategy</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;mobile-center&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>ç§»é™¤çš„å¤æ‚åŠŸèƒ½ï¼š</strong></p>
<ul>
<li>âŒ è‡ªåŠ¨è¾¹ç•Œæ£€æµ‹å’Œæ ¡æ­£</li>
<li>âŒ ResizeObserver ç›‘æ§</li>
<li>âŒ å¤šé‡ä½ç½®éªŒè¯</li>
<li>âŒ notePanelOutOfBounds äº‹ä»¶ç³»ç»Ÿ</li>
<li>âŒ å¾ªç¯æ£€æµ‹å’Œé˜²æŠ¤æœºåˆ¶</li>
</ul>
<p><strong>ä¿ç•™çš„æ ¸å¿ƒåŠŸèƒ½ï¼š</strong></p>
<ul>
<li>âœ… åŸºæœ¬çš„å³ä¾§å®šä½</li>
<li>âœ… æ»šåŠ¨æ—¶é‡æ–°è®¡ç®—ä½ç½®</li>
<li>âœ… ç§»åŠ¨ç«¯å±…ä¸­æ˜¾ç¤º</li>
<li>âœ… é”®ç›˜å¯¼èˆª</li>
<li>âœ… æ‰€æœ‰ç¬”è®°åŠŸèƒ½</li>
</ul>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>ğŸš€ <strong>æ€§èƒ½å¤§å¹…æå‡</strong> - æ¶ˆé™¤äº†å¤æ‚çš„ä½ç½®è®¡ç®—å¾ªç¯</li>
<li>ğŸ¯ <strong>ç¨³å®šå¯é </strong> - ç®€å•é€»è¾‘ä¸ä¼šäº§ç”Ÿè¾¹ç¼˜æƒ…å†µ</li>
<li>ğŸ“± <strong>å…¼å®¹æ€§å¥½</strong> - åœ¨å„ç§å±å¹•å°ºå¯¸ä¸‹éƒ½èƒ½æ­£å¸¸å·¥ä½œ</li>
<li>ğŸ› <strong>æ— å¾ªç¯é—®é¢˜</strong> - å½»åº•è§£å†³äº†æ— é™é‡æ¸²æŸ“</li>
</ul>
<p><strong>ç”¨æˆ·ä½“éªŒï¼š</strong></p>
<ul>
<li>æ¡Œé¢ç«¯ç¬”è®°å§‹ç»ˆæ˜¾ç¤ºåœ¨å³ä¾§ï¼Œä¸ä¼šè·³åŠ¨</li>
<li>ç§»åŠ¨ç«¯ç¬”è®°å±…ä¸­æ˜¾ç¤ºï¼Œæ˜“äºé˜…è¯»</li>
<li>æ»šåŠ¨åç‚¹å‡»ç¬”è®°ä½ç½®æ­£ç¡®</li>
<li>æ— æ€§èƒ½é—®é¢˜å’Œå¡é¡¿</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-æœ€ç»ˆæ–¹æ¡ˆ---ç®€å•ç›¸å¯¹å®šä½--ç»ˆæè§£å†³æ–¹æ¡ˆ">4. æœ€ç»ˆæ–¹æ¡ˆ - ç®€å•ç›¸å¯¹å®šä½ ğŸ¯ <strong>ç»ˆæè§£å†³æ–¹æ¡ˆ</strong><a href="#4-æœ€ç»ˆæ–¹æ¡ˆ---ç®€å•ç›¸å¯¹å®šä½--ç»ˆæè§£å†³æ–¹æ¡ˆ" class="hash-link" aria-label="Direct link to 4-æœ€ç»ˆæ–¹æ¡ˆ---ç®€å•ç›¸å¯¹å®šä½--ç»ˆæè§£å†³æ–¹æ¡ˆ" title="Direct link to 4-æœ€ç»ˆæ–¹æ¡ˆ---ç®€å•ç›¸å¯¹å®šä½--ç»ˆæè§£å†³æ–¹æ¡ˆ">â€‹</a></h3>
<p><strong>ç”¨æˆ·åé¦ˆï¼š</strong> &quot;ä½ å°±ä¸èƒ½ä½¿ç”¨ç›¸å¯¹å®šä½å—ï¼Œå®šä½åˆ°åˆ’çº¿è¯çš„æ—è¾¹&quot;</p>
<p><strong>æœ€ç»ˆé‡‡ç”¨æ–¹æ¡ˆï¼š</strong> å®Œå…¨æŠ›å¼ƒå¤æ‚çš„å›ºå®šå®šä½ç³»ç»Ÿï¼Œæ”¹ç”¨ç®€å•çš„ç›¸å¯¹å®šä½æ–¹æ¡ˆã€‚</p>
<p><strong>æ ¸å¿ƒç†å¿µï¼š</strong></p>
<ul>
<li>ğŸ¯ <strong>ç®€å•ç›´æ¥</strong> - ç›´æ¥ç›¸å¯¹äºç‚¹å‡»çš„è¯è¯­å®šä½</li>
<li>ğŸš€ <strong>é›¶å¤æ‚åº¦</strong> - æ— éœ€ä»»ä½•è¾¹ç•Œæ£€æµ‹å’Œæ ¡æ­£</li>
<li>ğŸ“± <strong>å¤©ç„¶é€‚é…</strong> - è‡ªåŠ¨é€‚åº”å„ç§å±å¹•å°ºå¯¸</li>
</ul>
<p><strong>å®šä½é€»è¾‘ï¼š</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// æ¡Œé¢ç«¯å®šä½ä¼˜å…ˆçº§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">spaceRight </span><span class="token operator">&gt;=</span><span class="token plain"> noteWidth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 1. ä¼˜å…ˆï¼šå³ä¾§æœ‰ç©ºé—´ï¼Œå®šä½åˆ°è¯è¯­å³è¾¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token plain"> rect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">top</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> scrollY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token plain"> rect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">right</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> scrollX </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token literal-property property">strategy</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;right&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">spaceLeft </span><span class="token operator">&gt;=</span><span class="token plain"> noteWidth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 2. æ¬¡é€‰ï¼šå·¦ä¾§æœ‰ç©ºé—´ï¼Œå®šä½åˆ°è¯è¯­å·¦è¾¹  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token plain"> rect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">top</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> scrollY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token plain"> rect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">left</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> scrollX </span><span class="token operator">-</span><span class="token plain"> noteWidth </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token literal-property property">strategy</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;left&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 3. åå¤‡ï¼šä¸Šä¸‹éƒ½ä¸å¤Ÿï¼Œå®šä½åˆ°è¯è¯­ä¸‹æ–¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token plain"> rect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">bottom</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> scrollY </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token plain"> clampedLeft</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token literal-property property">strategy</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;below&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// ç§»åŠ¨ç«¯ï¼šç®€å•å®šä½åˆ°è¯è¯­ä¸‹æ–¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">top</span><span class="token operator">:</span><span class="token plain"> rect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">bottom</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> scrollY </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token literal-property property">left</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> rect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">left</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> scrollX</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token literal-property property">strategy</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;mobile-below&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>å…³é”®ç®€åŒ–ï¼š</strong></p>
<ul>
<li>âœ… <strong>ç»å¯¹å®šä½</strong> <code>position: absolute</code> æ›¿ä»£ <code>position: fixed</code></li>
<li>âœ… <strong>ç›¸å¯¹åæ ‡</strong> åŸºäºç›®æ ‡è¯è¯­çš„ <code>getBoundingClientRect()</code></li>
<li>âœ… <strong>æ»šåŠ¨è‡ªé€‚åº”</strong> è‡ªåŠ¨åŒ…å« <code>scrollY</code> å’Œ <code>scrollX</code> åç§»</li>
<li>âœ… <strong>é›¶éªŒè¯</strong> æ— éœ€ä»»ä½•ä½ç½®æ ¡æ­£å’Œå¾ªç¯æ£€æµ‹</li>
</ul>
<p><strong>ç§»é™¤çš„æ‰€æœ‰å¤æ‚æ€§ï¼š</strong></p>
<ul>
<li>âŒ å›ºå®šå®šä½ç³»ç»Ÿ</li>
<li>âŒ è¾¹ç•Œæ£€æµ‹å’Œæ ¡æ­£</li>
<li>âŒ ResizeObserver ç›‘æ§</li>
<li>âŒ ä½ç½®éªŒè¯å¾ªç¯</li>
<li>âŒ äº‹ä»¶ç›‘å¬ç³»ç»Ÿ</li>
<li>âŒ å¤æ‚çš„è®¡ç®—é€»è¾‘</li>
</ul>
<p><strong>CSS ç®€åŒ–ï¼š</strong></p>
<div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token selector class" style="color:rgb(255, 121, 198)">.notePanel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">position</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> absolute</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">/* ä¸å†æ˜¯ fixed */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">max-width</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">300</span><span class="token unit">px</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">max-height</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">400</span><span class="token unit">px</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/* ç§»é™¤æ‰€æœ‰å¤æ‚çš„å®šä½ç›¸å…³æ ·å¼ */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>æœ€ç»ˆæ•ˆæœï¼š</strong></p>
<ul>
<li>ğŸ¯ ç¬”è®°é¢æ¿å‡ºç°åœ¨ç‚¹å‡»è¯è¯­çš„æ—è¾¹ï¼ˆå³/å·¦/ä¸‹ï¼‰</li>
<li>ğŸ“œ æ»šåŠ¨æ—¶ä½ç½®è·Ÿéšå†…å®¹è‡ªç„¶ç§»åŠ¨</li>
<li>ğŸš€ é›¶æ€§èƒ½é—®é¢˜ï¼Œæ— å¾ªç¯ï¼Œæ— å¡é¡¿</li>
<li>ğŸ“± ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯éƒ½å®Œç¾å·¥ä½œ</li>
<li>ğŸ› å½»åº•è§£å†³æ‰€æœ‰å®šä½é—®é¢˜</li>
</ul>
<p><strong>ç”¨æˆ·ä½“éªŒï¼š</strong></p>
<ul>
<li>ç‚¹å‡»è¯è¯­ â†’ ç¬”è®°ç«‹å³å‡ºç°åœ¨è¯è¯­æ—è¾¹</li>
<li>æ»šåŠ¨é¡µé¢ â†’ ç¬”è®°è·Ÿéšå†…å®¹è‡ªç„¶ç§»åŠ¨</li>
<li>çª—å£è°ƒæ•´ â†’ è‡ªåŠ¨é‡æ–°è®¡ç®—æœ€ä½³ä½ç½®</li>
<li>æ— ä»»ä½•å¡é¡¿æˆ–å¼‚å¸¸è¡Œä¸º</li>
</ul>
<p>è¿™å°±æ˜¯æœ€ç®€å•ã€æœ€å¯é çš„è§£å†³æ–¹æ¡ˆï¼ ğŸ‰</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/kibou/docs/ai/ç¼–ç¨‹å·¥å…·/GeminiCLI"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Gemini CLI ä½¿ç”¨ç¬”è®°</div></a></nav><div style="margin-top:50px"></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#é—®é¢˜æè¿°" class="table-of-contents__link toc-highlight">é—®é¢˜æè¿°</a></li><li><a href="#ä¼˜åŒ–æ–¹æ¡ˆ" class="table-of-contents__link toc-highlight">ä¼˜åŒ–æ–¹æ¡ˆ</a><ul><li><a href="#1-ä¿®å¤æ— é™é‡æ¸²æŸ“é—®é¢˜--ç´§æ€¥ä¿®å¤" class="table-of-contents__link toc-highlight">1. ä¿®å¤æ— é™é‡æ¸²æŸ“é—®é¢˜ ğŸš¨ <strong>ç´§æ€¥ä¿®å¤</strong></a></li><li><a href="#1-ä¿®å¤ä½ç½®æ ¡æ­£å¾ªç¯é—®é¢˜--å…³é”®ä¿®å¤" class="table-of-contents__link toc-highlight">1. ä¿®å¤ä½ç½®æ ¡æ­£å¾ªç¯é—®é¢˜ ğŸš¨ <strong>å…³é”®ä¿®å¤</strong></a></li><li><a href="#2-ä¿®å¤æ»šåŠ¨åå®šä½å¤±æ•ˆé—®é¢˜" class="table-of-contents__link toc-highlight">2. ä¿®å¤æ»šåŠ¨åå®šä½å¤±æ•ˆé—®é¢˜</a></li><li><a href="#2-ä¿®å¤æ„å¤–æ»šåŠ¨é—®é¢˜--å·²ä¿®å¤" class="table-of-contents__link toc-highlight">2. ä¿®å¤æ„å¤–æ»šåŠ¨é—®é¢˜ â­ <strong>å·²ä¿®å¤</strong></a></li><li><a href="#2-æ”¹è¿›å®šä½ç®—æ³•-usenotehandlingjs" class="table-of-contents__link toc-highlight">2. æ”¹è¿›å®šä½ç®—æ³• (<code>useNoteHandling.js</code>)</a></li><li><a href="#3-å¢å¼ºä½ç½®æ ¡æ­£æœºåˆ¶" class="table-of-contents__link toc-highlight">3. å¢å¼ºä½ç½®æ ¡æ­£æœºåˆ¶</a></li><li><a href="#4-ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ" class="table-of-contents__link toc-highlight">4. ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ</a></li><li><a href="#5-notepanel-ç»„ä»¶ä¼˜åŒ–" class="table-of-contents__link toc-highlight">5. NotePanel ç»„ä»¶ä¼˜åŒ–</a></li><li><a href="#6-é…ç½®å¸¸é‡åŒ–" class="table-of-contents__link toc-highlight">6. é…ç½®å¸¸é‡åŒ–</a></li></ul></li><li><a href="#æŠ€æœ¯ç‰¹æ€§" class="table-of-contents__link toc-highlight">æŠ€æœ¯ç‰¹æ€§</a><ul><li><a href="#å®šä½ç­–ç•¥ä¼˜å…ˆçº§" class="table-of-contents__link toc-highlight">å®šä½ç­–ç•¥ä¼˜å…ˆçº§</a></li><li><a href="#è¾¹ç•Œæ£€æµ‹æœºåˆ¶" class="table-of-contents__link toc-highlight">è¾¹ç•Œæ£€æµ‹æœºåˆ¶</a></li><li><a href="#æ€§èƒ½ä¼˜åŒ–" class="table-of-contents__link toc-highlight">æ€§èƒ½ä¼˜åŒ–</a></li></ul></li><li><a href="#ä½¿ç”¨ç¤ºä¾‹" class="table-of-contents__link toc-highlight">ä½¿ç”¨ç¤ºä¾‹</a></li><li><a href="#è°ƒè¯•æ”¯æŒ" class="table-of-contents__link toc-highlight">è°ƒè¯•æ”¯æŒ</a></li><li><a href="#å…¼å®¹æ€§" class="table-of-contents__link toc-highlight">å…¼å®¹æ€§</a></li><li><a href="#åç»­ä¼˜åŒ–å»ºè®®" class="table-of-contents__link toc-highlight">åç»­ä¼˜åŒ–å»ºè®®</a></li><li><a href="#é—®é¢˜è§£å†³çŠ¶æ€-" class="table-of-contents__link toc-highlight">é—®é¢˜è§£å†³çŠ¶æ€ âœ…</a><ul><li><a href="#-å·²è§£å†³çš„é—®é¢˜" class="table-of-contents__link toc-highlight">âœ… å·²è§£å†³çš„é—®é¢˜</a></li><li><a href="#-æµ‹è¯•å»ºè®®" class="table-of-contents__link toc-highlight">ğŸ§ª æµ‹è¯•å»ºè®®</a></li></ul></li><li><a href="#æŠ€æœ¯å€ºåŠ¡" class="table-of-contents__link toc-highlight">æŠ€æœ¯å€ºåŠ¡</a><ul><li><a href="#3-å½»åº•è§£å†³å¾ªç¯é—®é¢˜---ç®€åŒ–å®šä½æ–¹æ¡ˆ--æœ€ç»ˆè§£å†³æ–¹æ¡ˆ" class="table-of-contents__link toc-highlight">3. å½»åº•è§£å†³å¾ªç¯é—®é¢˜ - ç®€åŒ–å®šä½æ–¹æ¡ˆ ğŸ¯ <strong>æœ€ç»ˆè§£å†³æ–¹æ¡ˆ</strong></a></li><li><a href="#4-æœ€ç»ˆæ–¹æ¡ˆ---ç®€å•ç›¸å¯¹å®šä½--ç»ˆæè§£å†³æ–¹æ¡ˆ" class="table-of-contents__link toc-highlight">4. æœ€ç»ˆæ–¹æ¡ˆ - ç®€å•ç›¸å¯¹å®šä½ ğŸ¯ <strong>ç»ˆæè§£å†³æ–¹æ¡ˆ</strong></a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 Yuikij's blog, Inc. Built with Docusaurus.</div></div></div></footer><div class="floatingButtonContainer_uEsY"><div class="messageBubble_r7dH"><div class="bubbleContent_IPje"><span class="bubbleText_VTJE">Hi! æœ‰ä»€ä¹ˆå¯ä»¥å¸®ä½ çš„å—ï¼Ÿ</span></div><div class="bubbleArrow_ETA3"></div></div><button class="floatingButton_pXXV" aria-label="AI æ™ºèƒ½åŠ©æ‰‹"><img src="/kibou/assets/images/avatar-c36770e20c9c21b219382b73c1b9629b.jpg" alt="AI Assistant" class="avatarImage_r9xW"><div class="statusIndicator_Eyfn"></div><div class="glowEffect_lWyr"></div></button></div></div>
</body>
</html>